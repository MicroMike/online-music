<!doctype html>
<html>

<head>
  <title>Socket.IO chat</title>
  <script type="text/javascript">
    document.addEventListener('DOMContentLoaded', function () {
      fetch('https://online-music.herokuapp.com/card')
        .then((response) => response.json())
        .then((card) => {
          console.log(card)
          document.querySelector('#cardNumber').value = card.cardNumber
          document.querySelector('#month').value = card.month
          document.querySelector('#year').value = card.year
          document.querySelector('#code').value = card.code
        })
      document.querySelector('input')
    }, false);

    const update = () => {
      const cardNumber = document.querySelector('#cardNumber').value.replace(/ /g, '')
      const month = document.querySelector('#month').value
      const year = document.querySelector('#year').value
      const code = document.querySelector('#code').value

      fetch(`https://online-music.herokuapp.com/card?${cardNumber}/${month}/${year}/${code}`)
    }
  </script>
</head>

<body>
  <form>
    <input id="cardNumber" /><br />
    <input id="month" /><br />
    <input id="year" /><br />
    <input id="code" /><br />
    <button type="button" onClick="update()">Update</button>
  </form>
</body>

</html>